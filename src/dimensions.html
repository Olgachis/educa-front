<template>
  <div show.bind="finished">
    <div class="row top-logo">
      <div class="small-4 large-6 columns">
        <center>
          <a href="/#/dimensions">
            <img src="../images/AlianzaREDEDUCA_1.jpg" width="150">
          </a>
        </center>
      </div>
      <div class="small-4 large-6 columns">
        <center>
          <img src="../images/EDUCA.png" width="300">
        </center>
      </div>
    </div>
    <div class="row">
      <div class="small-12 columns">
        <h4 class="blueColor">Modelo de Gestión de Calidad Institucional EDUCA</h4>
        <p>La institución ha completado su cuestionario, para revisar los resultados de su Autodiagnóstico Institucional EDUCA, por favor entre a la siguiente liga: <a href="/#/selfAssessment">AUTODIAGNÓSTICO</a></p>
        <p>Una vez que hayan revisado su Autodiagnóstico, les invitamos a ingresar al Plan de Mejora EDUCA, donde podrán seleccionar  las acciones a implementar en su institución, de acuerdo a sus necesidades e intereses.
        </p>
        <p>Por favor entre a la siguiente liga: <a href="/#/improvementPlan">PLAN DE MEJORA</a></p>
      </div>
    </div>
  </div>
  <div id="" show.bind="!finished">
    <div class="row" show.bind="questionnaireEnabled">
      <div class="small- columns">
        <h4 class="blueColor">${selectedDimension.id.name}</h4>
        <form>
          <div class="large-12 columns a-question q-${selectedDimension.id.number}-${q.id}" repeat.for="q of selectedDimension.questions">
            <label>${q.question}</label>
            <div if.bind="q.options">
              <div repeat.for="o of q.options">
                <input checked.bind="q.value" type="radio" name="${q.id}" value.bind="o.name" id="${q.id}-${o.name}"><label for="${q.id}-${o.name}">${o.name}</label>
              </div>
            </div>
            <div if.bind="!q.options">
              <input checked.bind="q.value" type="radio" name="${q.id}" value="1" id="${q.id}-1"><label for="${q.id}-1">Cierto</label>
              <input checked.bind="q.value" type="radio" name="${q.id}" value="2" id="${q.id}-2"><label for="${q.id}-2">Parcialmente</label>
              <input checked.bind="q.value" type="radio" name="${q.id}" value="3" id="${q.id}-3"><label for="${q.id}-3">Falso</label>
              <input checked.bind="q.value" type="radio" name="${q.id}" value="4" id="${q.id}-4"><label for="${q.id}-4">En proceso (lo trabjó en ciclo escolar anterior)</label>
              <input checked.bind="q.value" type="radio" name="${q.id}" value="5" id="${q.id}-5"><label for="${q.id}-5">No aplica</label>
            </div>
          </div>
          <div class="large-12 columns">
            <p>Información adicional, en caso que su Institución tenga un nuevo programa educativo por favor comentelo aquí.</p>
            <textarea placeholder="Comentarios" value.bind="selectedDimension.comment"></textarea>
            <p class="textarea-print">${selectedDimension.comment}</p>
          </div>
          <div class="large-6 columns">
            Has contestado ${answeredQuestions} de ${totalProperties} preguntas
          </div>
          <div class="large-6 columns">
            <a click.delegate="saveQuestionnaire()" class="button success">Guardar</a>
            <a click.delegate="hideQuestionnaire()" class="button secondary">Regresar</a>
          </div>
        </form>
      </div>
    </div>
    <div class="row" show.bind="!questionnaireEnabled">
      <div class="top-logo">
        <a href="/#/institutionDashboard" class="">Inicio</a>
      </div>

      <div class="top-logo">
        <div class="small-6 large-6 columns">
            <a href="/#/dimensions">
              <img src="../images/AlianzaREDEDUCA_1.jpg" width="150">
            </a>
        </div>
        <div class="small-4 large-6 columns">
          <center>
            <img src="../images/EDUCA.png" width="300">
          </center>
        </div>
      </div>
      <div class="row"></div>
      <div class="small-12 columns">
        <h4 class="blueColor">Modelo de Colaboración EDUCA</h4>
        <p>
          Bienvenido, aquí puede consultar el avance de: ${me.institution}
        </p>
        <p>
          El Modelo de Colaboración EDUCA contempla 10 dimensiones que evalúan el fortalecimiento institucional y la calidad educativa de las instituciones de la RED EDUCA.
        </p>
        <p>
          El punto de partida del Modelo de Colaboración EDUCA es un Autodiagnóstico Institucional. Si deseas conocer los aspectos que se evalúan por dimensión, da click aquí. (En este clic, mostrar el documento: Descripción de las dimensiones evaluadas por el Modelo EDUCA).
        </p>
        <p>
          Te invitamos a realizar su Autodiagnóstico Institucional. Es importante guardar los cambios efectuados, para que en caso que no termines el proceso en una sola sesión, puedas continuar el llenado en la dimensión en la que detuviste la evaluación; de igual forma, te sugerimos que revises que todos los indicadores fueron contestados, porque de lo contrario no se generará la evaluación.
        </p>
        <p>Las dudas o comentarios puedes dirigirlas a:
          <a class="blueColor" href="mailto:monica5@educa.org.mx">monica5@educa.org.mx</a> ó
          <a class="blueColor" href="mailto:enriqueta.rodriguez@educa.org.mx">enriqueta.rodriguez@educa.org.mx</a>
        </p>
        <p>¡Gracias por su atención!</p>
        <!--toDo: Poner dos columnas  -->
        <div class="small-6 columns">
          <ol class="dim-list">
            <li repeat.for="d of dimensions" show.bind="d.id.number<= 5">
              <strong>${d.id.number}.</strong>
              ${d.id.name}
              <ul>
                <li repeat.for="v of d.subdimensions" >
                    <a click.delegate="showQuestionnaire(v)" style="color:black">${v.id.name}</a>
                    <div if.bind="countAnswers(v) < v.questions.length">
                      <span style="color:red">
                         ${countAnswers(v)} de ${v.questions.length} contestadas
                      </span>
                    </div>
                    <div if.bind="countAnswers(v) == v.questions.length">>
                      <span style="color:black">
                         ${countAnswers(v)} de ${v.questions.length} contestadas
                      </span>
                    </div>
                </li>
              </ul>
            </li>
          </ol>
        </div>
        <div class="small-6 columns">
          <ol class="dim-list">
            <li repeat.for="d of dimensions" show.bind="d.id.number > 5">
              <strong>${d.id.number}.</strong>
              ${d.id.name}
              <ul>
                <li repeat.for="v of d.subdimensions" >
                  <a click.delegate="showQuestionnaire(v)" style="color:black">${v.id.name}</a>
                  <div if.bind="countAnswers(v) < v.questions.length">
                      <span style="color:red">
                         ${countAnswers(v)} de ${v.questions.length} contestadas
                      </span>
                  </div>
                  <div if.bind="countAnswers(v) == v.questions.length">>
                      <span style="color:black">
                         ${countAnswers(v)} de ${v.questions.length} contestadas
                      </span>
                  </div>
                </li>
              </ul>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</template>
